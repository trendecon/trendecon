<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to trendecon • trendecon</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to trendecon">
<meta property="og:description" content="trendecon">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">trendecon</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.2.8</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/daily-series.html">Creating long daily series</a>
    </li>
    <li>
      <a href="../articles/intro.html">Introduction to trendecon</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/trendecon/trendecon/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Introduction to trendecon</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/trendecon/trendecon/blob/HEAD/vignettes/intro.Rmd" class="external-link"><code>vignettes/intro.Rmd</code></a></small>
      <div class="hidden name"><code>intro.Rmd</code></div>

    </div>

    
    
<p><em>trendecon</em> - a package for obtaining and analyzing Google
Trends timeseries data directly from R.</p>
<p>People’s searches on Google can tell a lot about their demand for
various goods and services as well as their perception of the state of
the economy. Hence, carefully chosen sets of Google Trends keywords can
serve as timely economic indicators. Functions within this package
assist with obtaining, storing, comparing, and visualizing Google Trends
results. This in turn provides a convenient way to explore different
keyword combinations and evaluate their econometric value and
performance.</p>
<div class="section level2">
<h2 id="google-trends">Google Trends<a class="anchor" aria-label="anchor" href="#google-trends"></a>
</h2>
<p>Google Trends (<a href="https://trends.google.com/" class="external-link uri">https://trends.google.com/</a>) is an online search tool
from Google that can be used to analyse the popularity of various Google
search terms across a specified time interval. The popularity measure of
a particular search term, given a specified time interval, is relative -
it is a number ranging from 0 to 100 where the value of 100 marks the
date when the specified search term was most popular. By analyzing such
relative popularity scores we can track the search term usage across
time, compare its popularity between different geographical regions, or
contrast it with other search terms.</p>
<p>For more information please see <a href="Check%20https://support.google.com/trends/answer/4365533?hl=en" class="external-link">Google
Trends FAQ</a>.</p>
</div>
<div class="section level2">
<h2 id="using-trendecon-to-obtain-google-trends-data">Using trendecon to obtain Google Trends data<a class="anchor" aria-label="anchor" href="#using-trendecon-to-obtain-google-trends-data"></a>
</h2>
<p>The main function <code><a href="../reference/ts_gtrends.html">ts_gtrends()</a></code> takes one or multiple
search term keywords and a geographical location as main arguments and
downloads data from the Google Trends API.</p>
<p>Suppose we are interested in the demand for cultural events in
Switzerland. Think of what people would google if they want to go to a
cultural event. For instance, they might google “cinema”, “oper”, “kino”
and “theater”. The following command downloads the Google Trends data
for these search terms:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://www.trendecon.org" class="external-link">trendecon</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">gt_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ts_gtrends.html">ts_gtrends</a></span><span class="op">(</span></span>
<span>  keyword <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cinema"</span>, <span class="st">"oper"</span>, <span class="st">"kino"</span>, <span class="st">"theater"</span><span class="op">)</span>,</span>
<span>  geo     <span class="op">=</span> <span class="st">"CH"</span>,</span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Downloading data for today+5-y</span></span>
<span><span class="co">#&gt; Downloading data for today+5-y</span></span>
<span><span class="co">#&gt; Downloading data for today+5-y</span></span>
<span><span class="co">#&gt; Downloading data for today+5-y</span></span></code></pre></div>
<p>By default, a weekly timeseries for the last 5 years is obtained but
this interval can be changed by adjusting the <code>time</code> argument
(See “Further Help” for more). The output will be a “tibble” table with
3 columns: id (keyword), time (date), and value (relative popularity
score):</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">gt_data</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 3</span></span></span>
<span><span class="co">#&gt;   id     time       value</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> cinema 2018-12-02    50</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> cinema 2018-12-09    48</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> cinema 2018-12-16    48</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span> cinema 2018-12-23    84</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span> cinema 2018-12-30    81</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span> cinema 2019-01-06    48</span></span></code></pre></div>
<p>We can then plot the time series using a <code><a href="https://docs.ropensci.org/tsbox/reference/ts_plot.html" class="external-link">ts_plot()</a></code>
function from the <code>tsbox</code> package:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/tsbox/" class="external-link">tsbox</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://docs.ropensci.org/tsbox/reference/ts_plot.html" class="external-link">ts_plot</a></span><span class="op">(</span><span class="va">gt_data</span><span class="op">)</span></span></code></pre></div>
<p><img src="intro_files/figure-html/unnamed-chunk-4-1.png" width="672"></p>
<p>To retrieve the common signal of all four time series we can, for
instance, use the first principal component:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://docs.ropensci.org/tsbox/reference/ts_plot.html" class="external-link">ts_plot</a></span><span class="op">(</span><span class="fu"><a href="https://docs.ropensci.org/tsbox/reference/ts_pick.html" class="external-link">ts_pick</a></span><span class="op">(</span><span class="fu"><a href="https://docs.ropensci.org/tsbox/reference/ts_examples.html" class="external-link">ts_prcomp</a></span><span class="op">(</span><span class="va">gt_data</span><span class="op">)</span>, <span class="st">"PC1"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="intro_files/figure-html/unnamed-chunk-5-1.png" width="672"></p>
<p>Alternatively, <code><a href="../reference/ts_gtrends.html">ts_gtrends()</a></code> function can accept Google
Trends categories instead of search term keywords. Unlike with search
terms, Google Trends categories are expressed with category numbers.
Such a category number can be specified instead of a keyword in which
case the trend data for the predefined Google search category will be
retrieved.</p>
<p>Under the hood it wraps around the <code>gtrends()</code> function
from the <a href="https://cran.r-project.org/web/packages/gtrendsR/gtrendsR.pdf" class="external-link"><em>gtrendsR</em></a>
package and modifies it by a) vectorizing it so that multiple keywords
can be requested in one go, b) returning the output in a “tibble” form
that can be passed to functions from the “tsbox” package, c)
automatically retrying in case of failures.</p>
</div>
<div class="section level2">
<h2 id="further-help">Further Help<a class="anchor" aria-label="anchor" href="#further-help"></a>
</h2>
<ul>
<li>For more details about the time interval specification see
<code>help(gtrends)</code>.</li>
<li>For an explanation of additional parameters accepted by the
<code><a href="../reference/ts_gtrends.html">ts_gtrends()</a></code> function see
<code><a href="../reference/ts_gtrends.html">help(ts_gtrends)</a></code>.</li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Angelica Becerra, Nina Mühlebach, Christoph Sax, Sverin Thoeni, Uwe Thuemmel, Karolis Koncevičius.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
